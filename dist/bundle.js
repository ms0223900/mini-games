!function(e){function t(t){for(var i,a,s=t[0],c=t[1],l=t[2],h=0,f=[];h<s.length;h++)a=s[h],o[a]&&f.push(o[a][0]),o[a]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);for(u&&u(t);f.length;)f.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],i=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(i=!1)}i&&(r.splice(t--,1),e=a(a.s=n[0]))}return e}var i={},o={0:0},r=[];function a(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=i,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;r.push([20,1]),n()}([,function(e,t,n){e.exports=n.p+"c4b26e456038dc44ce876b69933d354f.png"},function(e,t,n){e.exports=n.p+"e268191613e1dbb7f837f40064295774.png"},function(e,t,n){e.exports=n.p+"13f68529537985f6ae506d7059288702.png"},function(e,t,n){e.exports=n.p+"de5168f03f48a202044e8d8a314862d2.png"},,,function(e,t,n){e.exports=n.p+"bea044858f07ed8c497b566c069c2cfb.png"},function(e,t,n){e.exports=n.p+"8b44e1071d676fc34d6d8eebb2c3de8a.png"},function(e,t,n){e.exports=n.p+"3832b9bbc7962f176bcecee90682d0a4.png"},function(e,t,n){e.exports=n.p+"18a4562479ff15b04f37f84e6adf096a.png"},function(e,t,n){e.exports=n.p+"47d2c31d45f9df892542c9ff29a065db.png"},function(e,t,n){e.exports=n.p+"d4e3bcbfac8fb77657f7d8edfadc228e.png"},function(e,t,n){e.exports=n.p+"d36eaa48b45238a14db6171b6c627040.png"},function(e,t,n){e.exports=n.p+"7f456bd9c98b570634e03084b37c93e5.png"},function(e,t,n){e.exports=n.p+"645d57ee3816071ab7a111c0dc94372e.png"},function(e,t,n){e.exports=n.p+"ee4f5b18c6ac8a32245fd5369a27fcf7.png"},function(e,t,n){e.exports=n.p+"ff5af1b4a83d2ce97fc06c2636cc86b7.png"},function(e,t,n){e.exports=n.p+"b01b4812cbcbb3bced0cd07a8ee547a6.png"},function(e,t,n){e.exports=n.p+"a33dc17ce43ab6cbce279eb842d94832.png"},function(e,t,n){e.exports=n(32)},,,,,,function(e,t,n){e.exports=n.p+"04a5dfc99e66a301aed023ec1479691a.png"},function(e,t,n){var i=n(28);"string"==typeof i&&(i=[[e.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(30)(i,o);i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(29)(!1)).push([e.i,"img{display:inline-block;width:100%}#UI{position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;width:300px;height:300px;padding:10px;background-color:#fff;box-shadow:0px 0px 10px #aaa}#UI .ui-container .image-container{display:inline-block;width:100px;padding:10px;box-sizing:border-box;transition:.2s}#UI .ui-container .image-container:hover{background-color:#ddd;transition:.2s}#UI .ui-container .image-container img{height:100%}\n",""])},,,,function(e,t,n){"use strict";n.r(t);var i=n(0),o=n.n(i),r=n(6),a=n.n(r),s=n(7),c=n.n(s);function l(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var u=function(e){var t=e.spec,n=t.x,i=t.y,o=t.w;return{t:i,l:n,b:i+t.h,r:n+o}},h=function(e,t){var n=u(e),i=n.t,o=n.l,r=n.b,a=n.r,s=u(t),c=s.t,l=s.l,h=s.b;if(!(o>s.r||a<l||r<c||i>h))return!0},f=function(e,t){var n=[t.x+t.width/2-(e.x+e.width/2),t.y+t.height/2-(e.y+e.height/2)],i=Math.sqrt(n[0]*n[0]+n[1]*n[1]);return[n[0]/i,n[1]/i]},v=function(e,t,n){var i=n*f(e,t)[0],o=n*f(e,t)[1];return{vx:i,vy:o,deg:180+180*Math.asin(-o/Math.sqrt(i*i+o*o))/Math.PI}},d=function(e,t){return{vx:t*Math.cos(e*Math.PI/180),vy:t*Math.sin(e*Math.PI/180)}},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:90;return~~((180-2*((arguments.length>1&&void 0!==arguments[1]?arguments[1]:150)-e))/(arguments.length>2&&void 0!==arguments[2]?arguments[2]:5))},p=function(e,t){return e.slice(0,t+1).reduce(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)+(arguments.length>1?arguments[1]:void 0)},0)},y=function(e){for(var t=100*e.reduce(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)+(arguments.length>1?arguments[1]:void 0)},0),n=Math.round(Math.random()*t)/100,i=0;i<e.length;i++)if(n>=p(e,i-1)&&n<p(e,i))return i},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,t=Math.round(100*Math.random())/100;return t>=0&&t<=e},b=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,i=360/n,o=[],r=0;r<n;r++)o[r]={x:e.x+Math.cos(i*r*Math.PI/180)*t,y:e.y+Math.sin(i*r*Math.PI/180)*t};return o},w=[{level:1,enemyAmount:10,enemyPercent:[.7,.2,.8]},{level:2,enemyAmount:14,enemyPercent:[.6,.3,.1]},{level:3,enemyAmount:20,enemyPercent:[.5,.35,.15]},{level:4,enemyAmount:30,enemyPercent:[.1,.1,.8]}],x=["https://cdn1.iconfinder.com/data/icons/ui-colored-2-of-3/100/UI_2__23-512.png","https://image.shutterstock.com/image-vector/weapon-focus-plus-sign-denoting-600w-1151810723.jpg","https://cdn4.iconfinder.com/data/icons/cyber-security-part-1/46/shield_add_security-512.png"],P=1e3,S={width:960,height:540};function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e){return(O="function"==typeof Symbol&&"symbol"===k(Symbol.iterator)?function(e){return k(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":k(e)})(e)}function I(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function j(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function E(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?A(e):t}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){M(e,t,n[t])})}return e}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function G(e,t,n){return t&&F(e.prototype,t),n&&F(e,n),e}var _={useBlink:!1,blinkNow:!1,blinkCount:0,blinkMax:30,blinkInterval:5},U=function(){function e(t){var n=t.id,i=void 0===n?"basicObj":n,o=t.cloneId,r=void 0===o?0:o,a=t.type,s=void 0===a?"normal":a,c=t.health,l=void 0===c?3:c,u=t.x,h=void 0===u?0:u,f=t.y,v=void 0===f?0:f,d=t.width,m=void 0===d?100:d,p=t.height,y=void 0===p?100:p,g=t.rotate,b=void 0===g?0:g,w=t.zoomRatio,x=void 0===w?1:w,P=t.fillStyle,k=void 0===P?"#111":P,O=t.strokeStyle,I=void 0===O?"#fff":O,j=t.opacity,E=void 0===j?1:j,A=t.collideObjs,C=void 0===A?[]:A,N=t.movement,T=void 0===N?null:N,B=t.useWall,M=void 0!==B&&B,F=t.hitbox,G=void 0===F?null:F;L(this,e),this.id=i,this.cloneId=r,this.type=s,this.health=l,this.zoomRatio=x,this.x=h,this.y=v,this.width=m*this.zoomRatio,this.height=y*this.zoomRatio,this.rotate=b,this.dev=!1,this.hitbox=G||{w:this.width,h:this.height},this.hitboxOffset={x:(this.width-this.hitbox.w)/2,y:(this.height-this.hitbox.h)/2},this.spec={x:this.x+this.hitboxOffset.x,y:this.y+this.hitboxOffset.y,w:this.hitbox.w,h:this.hitbox.h},this.movement=T||{isMove:!1,vBasic:6,vx:4,vy:4,ax:0,ay:0},this.newBehavior=[],this.collideObjs=C,this.wall={useWall:M,spec:{x:0,y:0,w:S.width,h:S.height}},this.fillStyle=k,this.strokeStyle=I,this.opacity=E,this.blinkSpec=_}return G(e,[{key:"setProp",value:function(e,t){return this[e]=t,this}},{key:"getWallCollide",value:function(e){this.wall.spec=e}},{key:"wallBounce",value:function(){if(this.wall.useWall){var e=this.wall&&function(e,t){var n=u(e),i=u(t),o=n.l>i.l,r=n.r<i.r,a=n.t>i.t,s=n.b<i.b;if(o&&r&&a&&s)return!1;var c=[];return o&&r||(c=[].concat(l(c),["xAxis"])),a&&s||(c=[].concat(l(c),["yAxis"])),c}(this,this.wall);e&&(e.includes("xAxis")&&(this.movement=B({},this.movement,{vx:-1*this.movement.vx})),e.includes("yAxis")&&(this.movement=B({},this.movement,{vy:-1*this.movement.vy})))}}},{key:"updateSpec",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.h;this.spec={x:e+this.hitboxOffset.x,y:t+this.hitboxOffset.y,w:n||this.spec.w,h:i||this.spec.h}}},{key:"move",value:function(){var e=this;if(this.newBehavior.forEach(function(t){return t(e)}),this.movement.isMove){this.wallBounce();var t=this.x+this.movement.vx,n=this.y+this.movement.vy;this.x=t,this.y=n,this.updateSpec(t,n)}}},{key:"blinkEffect",value:function(){var e=this.blinkSpec,t=e.blinkNow,n=e.blinkCount,i=e.blinkMax,o=e.blinkInterval;n<=i?(this.blinkSpec.blinkCount+=1,n%o==0?(this.blinkSpec.blinkNow=!t,this.opacity=1):t||(this.opacity=.5)):this.blinkSpec=_}},{key:"drawOnCanvas",value:function(e){e.save(),e.fillStyle=this.fillStyle,e.strokeStyle=this.strokeStyle,e.fillRect(0,0,this.width,this.height),e.stroke(),e.fill(),e.restore()}},{key:"draw",value:function(e){e.save(),e.beginPath(),e.globalAlpha=this.opacity,e.translate(this.x,this.y),e.rotate(this.rotate*Math.PI/180),this.blinkSpec.useBlink&&this.blinkEffect(e),this.drawOnCanvas(e),e.closePath(),e.restore()}},{key:"render",value:function(e){this.move(),this.draw(e)}}]),e}(),R=function(e){function t(e){var n,i=e.opacity,o=void 0===i?1:i,r=e.imgSrc,a=e.status,s=j(e,["opacity","imgSrc","status"]);return L(this,t),(n=E(this,C(t).call(this,s))).opacity=o,n.statusNow="default",n.status=a||{default:r},n.imgSrc=r,n.image=new Image,n.image.src=n.imgSrc,n}return N(t,U),G(t,[{key:"drawOnCanvas",value:function(e){var t=this.spec,n=t.x,i=t.y,o=t.w,r=t.h,a=this.statusNow,s=this.status[a];this.image.src=s,e.save(),e.drawImage(this.image,0,0,this.width,this.height),this.dev&&e.fillRect(n,i,o,r),e.restore()}}]),t}(),H=function(e){function t(e){var n,i=e.timerAttackFn,o=void 0===i?function(){return console.log("attack")}:i,r=e.attackTime,a=void 0===r?1300:r,s=j(e,["timerAttackFn","attackTime"]);return L(this,t),(n=E(this,C(t).call(this,s))).turnDegNow=0,n.timerAttack=setInterval(function(){o(A(n)),n.statusNow=n.status.attack?"attack":"default",setTimeout(function(){n.statusNow="default"},500)},a),n}return N(t,R),G(t,[{key:"checkIsAlive",value:function(){this.health<=0&&clearInterval(this.timerAttack)}},{key:"setNewMovement",value:function(e){return this.newBehavior=[].concat(I(this.newBehavior),[e]),this}}]),t}(),D=function(){function e(t){var n=t.id,i=void 0===n?"text":n,o=t.cloneId,r=void 0===o?0:o,a=t.x,s=void 0===a?0:a,c=t.y,l=void 0===c?0:c,u=t.text,h=void 0===u?"default text":u,f=t.textConfig,v=void 0===f?"16px roboto":f,d=t.textAlign,m=void 0===d?"start":d,p=t.width,y=void 0===p?100:p,g=t.height,b=void 0===g?100:g,w=t.fillStyle,x=void 0===w?"#111":w,P=t.strokeStyle,S=void 0===P?"#fff":P,k=t.movement,O=void 0===k?null:k;L(this,e),this.id=i,this.cloneId=r,this.display=!0,this.x=s,this.y=l,this.width=y,this.height=b,this.spec={x:s,y:l,w:this.width,h:this.height},this.text=h,this.textAlign=m,this.textConfig=v,this.fillStyle=x,this.strokeStyle=S,this.movement=O||{isMove:!1,vx:4,vy:4,ax:0,ay:0},this.propsForUpdate=[],this.updateRules=[],this.prevProps={}}return G(e,[{key:"setProp",value:function(e,t){return this[e]=t,this.checkUpdateProp(),this.prevProps[e]=t,this}},{key:"addUpdateRule",value:function(e){return this.updateRules=[].concat(I(this.updateRules),[e]),e(this),this}},{key:"addPropForUpdate",value:function(e){return this.propsForUpdate=[].concat(I(this.propsForUpdate),[e]),this}},{key:"checkUpdateProp",value:function(){for(var e=0;e<this.propsForUpdate.length;e++){var t=this.propsForUpdate[e];if(this[t]!==this.prevProps[t])for(var n=0;n<this.updateRules.length;n++)this.updateRules[n](this)}}},{key:"drawOnCanvas",value:function(e){e.save(),e.font=this.textConfig,e.textAlign=this.textAlign,e.fillStyle=this.fillStyle,e.fillText(this.text,this.x,this.y),e.restore()}},{key:"draw",value:function(e){this.drawOnCanvas(e)}},{key:"render",value:function(e){this.display&&this.draw(e)}}]),e}(),q=function(e){function t(e){var n,i=e.r,o=void 0===i?20:i,r=j(e,["r"]);return L(this,t),(n=E(this,C(t).call(this,r))).r=o,n.width=2*o,n.height=2*o,n.spec=B({},n.spec,{w:n.width,h:n.height}),n}return N(t,U),G(t,[{key:"drawOnCanvas",value:function(e){e.save(),e.fillStyle=this.fillStyle,e.strokeStyle=this.strokeStyle,e.arc(0+this.r,0+this.r,this.r,0,2*Math.PI),e.stroke(),e.fill(),e.restore()}}]),t}(),z=new q({x:440,y:40,fillStyle:"#a00"});z.setProp("movement",B({},z.movement,{isMove:!1,vx:-10,vy:10}));var W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return new U({x:e,y:t,id:"enemy",cloneId:n,width:60,height:60,fillStyle:"#a90"})},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return new q({id:"bullet",cloneId:n,x:e,y:t,r:10,fillStyle:"#f010ad",movement:{isMove:!0,vx:10,vy:0}})},Y=new D({x:400,y:20,text:"",fillStyle:"#1a0"});Y.setProp("score",0).setProp("basicTxt","score: ").addUpdateRule(function(e){e.text=e.basicTxt+e.score}).addPropForUpdate("score"),new D({x:100,y:20,text:"",fillStyle:"#a00"}).setProp("health",10).setProp("basicTxt","health: ").addUpdateRule(function(e){e.text=e.basicTxt+e.health}).addPropForUpdate("health"),console.log(Y);var J=function(e){function t(e){var n;return L(this,t),(n=E(this,C(t).call(this,e))).movement=B({},n.movement,{vStandard:4,vx:0,vy:0,moveSet:[]}),n.attackType="default",n.noHurt=!1,n.endNoHurt=function(){return setTimeout(function(){n.noHurt=!1},500)},n.timeLimitBuff={buffTime:0,buff:!1},n.checkLimitBuff=setInterval(function(){var e=n.timeLimitBuff,t=e.buffTime,i=e.buff;t>0&&(n.timeLimitBuff.buffTime-=1),i&&0===n.timeLimitBuff.buffTime&&(n.timeLimitBuff.buff=!1,n.attackType="default",n.statusNow="default")},1e3),n.moveEvent(),n}return N(t,R),G(t,[{key:"moveEvent",value:function(){var e=this;document.addEventListener("keyup",function(t){var n=t.keyCode,i=e.movement.moveSet;e.movement.moveSet=i.filter(function(e){return e!==n}),0===e.movement.moveSet.length&&(e.movement=B({},e.movement,{vx:0,vy:0}))})}},{key:"moveByUser",value:function(e){var t=this,n=e.keyCode;[37,38,39,40,65,87,68,83].includes(n)&&(this.movement.isMove=!0);this.movement.moveSet=function(e,t){return e.includes(t)?e:[].concat(I(e),[t])}(this.movement.moveSet,n);var i=function(e){return t.movement.moveSet.includes(e)};i(37)||i(65)?(this.movement.vy=0,this.movement.vx=-1*this.movement.vStandard):i(38)||i(87)?(this.movement.vx=0,this.movement.vy=-1*this.movement.vStandard):i(39)||i(68)?(this.movement.vy=0,this.movement.vx=1*this.movement.vStandard):(i(40)||i(83))&&(this.movement.vx=0,this.movement.vy=1*this.movement.vStandard)}}]),t}(),$=new J({imgSrc:c.a,x:100,y:100,w:200,h:200}),K=function(){function e(t){var n=t.groupObjs,i=void 0===n?[]:n,o=t.updateFns,r=void 0===o?[]:o;L(this,e),this.display=!0,this.groupObjs=i,this.updateFns=r}return G(e,[{key:"setProp",value:function(e,t){this[e]=t}},{key:"render",value:function(e){var t=this;this.display&&(this.updateFns.forEach(function(e){e(t)}),this.groupObjs.forEach(function(t){t.render(e)}))}}]),e}(),Q=function(){function e(t,n,i){var o=this;L(this,e),this.canvas=t,this.canvasSpec=n,this.ctx=t.getContext("2d"),this.gameNewCloneId=0,this.gameProp=i,this.frame={prev:0,now:0,fps:0},this.FPSInit=setInterval(function(){o.frame.fps=2*(o.frame.now-o.frame.prev),o.frame.prev=o.frame.now},500),this.newGameObjs=[],this.gameEnemies=[],this.spawnEnemyRate=P,this.spawnEnemyInterval=function(){return setInterval(function(){return o.spawnEnemyFn()},o.spawnEnemyRate)},this.spawnEnemy=this.spawnEnemyInterval(),document.addEventListener("keydown",function(e){return o.newGameEvent(e)})}return G(e,[{key:"setGameProp",value:function(e,t){this.gameProp=B({},this.gameProp,M({},e,t))}},{key:"drawFPS",value:function(){this.frame.now+=1,this.ctx.font="16px Arial",this.ctx.fillStyle="#000",this.ctx.fillText("fps:"+this.frame.fps,10,20)}},{key:"drawBG",value:function(){this.ctx.save(),this.ctx.globalAlpha=.1,this.ctx.fillStyle="#ddd",this.ctx.fillRect(0,0,this.canvasSpec.width,this.canvasSpec.height),this.ctx.restore()}},{key:"newGameEvent",value:function(e){32===e.keyCode&&(this.newGameObjs=[].concat(I(this.newGameObjs),[V($.x,$.y+$.height/2,this.gameNewCloneId)]),this.gameNewCloneId+=1,console.log(this.newGameObjs))}},{key:"spawnEnemyFn",value:function(){console.log(this.gameEnemies),this.gameEnemies=[].concat(I(this.gameEnemies),[W(300,300,this.gameNewCloneId).setProp("movement",B({},W().movement,{isMove:!0,vx:3,vy:3}))]),this.gameNewCloneId+=1}},{key:"render",value:function(){this.ctx.clearRect(0,0,this.canvasSpec.width,this.canvasSpec.height),this.ctx.beginPath(),this.drawBG(),this.drawFPS(),requestAnimationFrame(this.render.bind(this))}}]),e}(),X=n(1),Z=n.n(X),ee=n(8),te=n.n(ee),ne=n(9),ie=n.n(ne),oe=n(10),re=n.n(oe),ae=n(11),se=n.n(ae),ce=(n(26),n(12)),le=n.n(ce),ue=n(2),he=n.n(ue),fe=n(3),ve=n.n(fe),de=n(13),me=n.n(de),pe=n(14),ye=n.n(pe),ge=n(15),be=n.n(ge),we=n(16),xe=n.n(we),Pe=n(17),Se=n.n(Pe),ke=n(4),Oe=n.n(ke),Ie=n(18),je=n.n(Ie),Ee=n(19),Ae=n.n(Ee);function Ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ne(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var Te,Be,Me=(Te=S.width/40+1,Be=Ne(Array(Te).keys()).map(function(e){return new R({id:"ground",x:40*e,y:S.height-30,width:40,height:128,imgSrc:me.a,movement:{isMove:!0,vx:-5,vy:0}})}),{position:0,updatePosition:function(){-40===this.position&&(Be.forEach(function(e){e.x+=40}),this.position=0)},render:function(e){this.updatePosition(),Be.forEach(function(t){t.render(e)}),this.position-=5}}),Le=function(e,t,n){return new R({id:"coin",cloneId:n,x:e,y:t,width:20,height:20,imgSrc:Se.a,movement:{isMove:!0,vx:-4,vy:0}})},Fe=function(e){return e<0?[]:Ne(Array(e).keys())},Ge=function(e,t){var n=~~(e/2),i=e-2*n,o=Math.ceil(t/2)-n-i;return[].concat(Ne(Fe(n).map(function(e){return"default"})),Ne(Fe(i).map(function(e){return"half"})),Ne(Fe(o).map(function(e){return"none"}))).map(function(e,t){var n=function(e,t,n){var i=new R({id:"playerHeart",cloneId:n,x:e,y:t,width:30,height:30,playerHeartImg:Oe.a});return i.status={default:Oe.a,half:je.a,none:Ae.a},i}(30+36*t,30,t);return n.statusNow=e,n})},_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=new K({groupObjs:Ge(e,t),updateFns:[function(e){e.groupObjs=Ge(e.playerLife,e.lifeLimit)}]});return n.playerLife=e,n.lifeLimit=t,n}();console.log(_e);var Ue,Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"enemy",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3?arguments[3]:void 0;return new H({x:i,y:o,id:e,cloneId:r,type:"enemy",width:80,height:80,imgSrc:t,movement:n,timerAttackFn:a})}},He=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:700,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"boss",r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ve.a,a=arguments.length>6?arguments[6]:void 0,s=new H({x:e,y:t,id:o,cloneId:n,width:400,height:400,imgSrc:r,movement:a,timerAttackFn:i,health:30});return s.status={default:r,attack:he.a},s.turnDegNow=0,s.setNewMovement(function(e){e.movement.isMove=!0,e.upDown={min:-100,max:400,isDown:!1,basicV:5},e.movement.vx=0,e.y<=e.upDown.min&&!e.upDown.isDown?(e.movement.vx=0,e.movement.vy=1*e.upDown.basicV,e.upDown.isDown=!0):e.y>=e.upDown.max&&(e.movement.vx=0,e.movement.vy=-1*e.upDown.basicV,e.upDown.isDown=!1)})},De=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#222";return new U({id:e,x:t,y:100,width:n,height:i,fillStyle:o})},qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=De("lifeUI_BG",100,e,t,"#ccc"),i=De("lifeUI_main",100,e,t,"#333"),o=De("lifeUI_hurt",100+e,0,t,"#c10000"),r=new K({updateFns:[function(t){var n=e*(t.bossHealthNow/t.bossHealthMax),i=e*(t.hurtHealth/t.bossHealthMax),o=t.groupObjs.find(function(e){return"lifeUI_main"===e.id}),r=t.groupObjs.find(function(e){return"lifeUI_hurt"===e.id});o.width=n,r.x=100+n,t.hurtHealth>0&&!t.startHurt?(t.startHurt=!0,r.width=i):r.width<=0?(t.startHurt=!1,t.hurtHealth=0):r.width-=1}],groupObjs:[n,i,o]});return r.bossHealthMax=30,r.bossHealthNow=30,r.hurtHealth=0,r.startHurt=!1,r.display=!1,r}(),ze=[Re("enemy01",le.a,{isMove:!0,vx:-3,vy:0}),Re("enemy02",he.a,{isMove:!0,vx:-5,vy:0}),Re("enemy03",ve.a,{isMove:!0,vx:-7,vy:0})],We=function(e,t,n,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[.33,.33,.33],r=y(o)||0;return 1===r?ze[r](e,t,n,i).setNewMovement(function(e){var t=e.turnDegNow,n=d(t,2),i=(n.vx,n.vy);e.movement=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){Ce(e,t,n[t])})}return e}({},e.movement,{vy:i}),e.turnDegNow+=1.5}):ze[r](e,t,n,i)},Ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"bullet";return new R({id:i,cloneId:n,x:e,y:t,width:60,height:20,imgSrc:re.a,rotate:20,movement:{isMove:!0,vx:10,vy:0}})},Ye=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"directive",r=arguments.length>5?arguments[5]:void 0;return new R({id:o,cloneId:i,x:e.x+e.width/2,y:e.y+e.height/2,width:70,height:10,imgSrc:se.a,rotate:r,movement:{isMove:!0,vx:t,vy:n}})},Je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return new q({id:"bulletEnemy",cloneId:n,x:e,y:t,r:8,fillStyle:"#09a",movement:{isMove:!0,vx:-7,vy:0}})},$e=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;return new R({id:"obstacle",type:"obs",cloneId:n,x:e,y:t,imgSrc:ye.a,width:250,height:430,rotate:i,zoomRatio:o,movement:{isMove:!0,vx:-3,vy:0}})},Ke=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;return new R({id:"buff",type:"spread",cloneId:n,x:e,y:t,imgSrc:be.a,width:40,height:40,rotate:i,zoomRatio:o,movement:{isMove:!0,vx:-10,vy:0}})},Qe=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return new D({x:e,y:t,text:"",fillStyle:n}).setProp(i,o).setProp("basicTxt","".concat(i,": ")).addUpdateRule(function(e){e.text=e.basicTxt+e[i]}).addPropForUpdate(i)},Xe=Qe(800,20,"#1a0","score",0),Ze=Qe(100,20,"#a00","health",10),et=Qe(900,20,"#111","level",1),tt=Qe(700,20,"#fa0","coin",0),nt=Qe(S.width/2,220,"#222","wave","1").setProp("textConfig","30px roboto").setProp("textAlign","center").setProp("display",!1),it=((Ue=new J({imgSrc:Z.a,x:100,y:300,width:90,height:100,hitbox:{w:50,h:50},status:{default:Z.a,directive:ie.a,spread:te.a}})).attackFrequency=600,Ue);function ot(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}console.log(it),console.log(Xe);var rt=function(e,t){var n=e.gameProp.level,i=w[n],o=function(t){e.enemyBullets=[].concat(ot(e.enemyBullets),[Je(t.x,t.y+t.height/2,e.gameNewCloneId)]),e.gameNewCloneId+=1},r={x:e.canvasSpec.width+30,y:Math.round(Math.random()*(e.canvasSpec.height-82))},a="function"==typeof t?t(r.x,r.y,e.gameNewCloneId,o):We(r.x,r.y,e.gameNewCloneId,o,i.enemyPercent);e.gameEnemies=[].concat(ot(e.gameEnemies),[a]),e.gameNewCloneId+=1};function at(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var st=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ve,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:it;it.bulletBasicV=10;var i,o,r,a,s,c=function(){e.newGameObjs=[].concat(at(e.newGameObjs),[t(n.x,n.y+n.height/2,e.gameNewCloneId)])};switch(it.attackType){case"default":c(),e.gameNewCloneId+=1;break;case"directive":if(0===e.gameEnemies.length)c();else{var l=e.gameEnemies.filter(function(e){return"obstacle"!==e.id})[0];e.newGameObjs=[].concat(at(e.newGameObjs),[(i=it,o=l,r=it.bulletBasicV,s=v(i,o,r),Ye(i,s.vx,s.vy,a,"directive",s.deg))]),e.gameNewCloneId+=1}break;case"spread":!function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"left",i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"enemyBullets",r="left"===n?90:270,a=r+60,s=m(r,a,5),c=0;c<5;c++){var l=a+c*s,u=d(l,t);i[o]=[].concat(at(i[o]),[Ye(e,u.vx,u.vy,i.gameNewCloneId+c,"directive",l)])}console.log(i[o]),i.gameNewCloneId+=5}(it,it.bulletBasicV,"right",e,"newGameObjs");break;default:c()}e.canShootBullet=!1,setTimeout(function(){e.canShootBullet=!0},it.attackFrequency)};function ct(e){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lt(e){return(lt="function"==typeof Symbol&&"symbol"===ct(Symbol.iterator)?function(e){return ct(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":ct(e)})(e)}function ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){ht(e,t,n[t])})}return e}function ht(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ft(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function vt(e,t){return!t||"object"!==lt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dt(e){return(dt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mt(e,t){return(mt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pt(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var yt,gt=function(e,t,n){e[t]=[].concat(pt(e.buffItems),[n]),e.gameNewCloneId+=1};window.onload=function(){yt=document.getElementById("UI"),console.log(yt)};var bt=function(e){document.getElementById("coinNow").innerText=e},wt=function(e){function t(e,n,i){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=vt(this,dt(t).call(this,e,n,i))).enemyBullets=[],o.newGameObjs=[],o.buffItems=[],o.canShootBullet=!0,o.gamePropToSync={},o.spawnObstacle=setInterval(function(){return o.spawnObstacleFn()},3e3),o}var n,i,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mt(e,t)}(t,Q),n=t,(i=[{key:"bossShootBullets",value:function(){var e=this;if(this.gameProp.bossFight){var t=this.gameEnemies.filter(function(e){return"boss"===e.id});if(t.length>0){var n=t[0];[function(){var t=v(n,it,10);e.enemyBullets=[].concat(pt(e.enemyBullets),[Ye(n,t.vx,t.vy,e.gameNewCloneId,"directive",t.deg)]),e.gameNewCloneId+=1},function(){for(var t=m(90,150,5),i=0;i<5;i++){var o=150+i*t,r=d(o,10);e.enemyBullets=[].concat(pt(e.enemyBullets),[Ye(n,r.vx,r.vy,e.gameNewCloneId+i,"directive",o)])}e.gameNewCloneId+=5},function(){var t=v(n,it,10),i=Ye(n,t.vx,t.vy,e.gameNewCloneId,"missile");i.isMissile=!0,e.enemyBullets=[].concat(pt(e.enemyBullets),[i]),setTimeout(function(){i.isMissile=!1},1e3),e.gameNewCloneId+=1},function(){rt(e,ze[2])}][y([.1,.2,.2,.5])]()}}}},{key:"newGameEvent",value:function(e){32===e.keyCode&&this.canShootBullet&&st(this),it.moveByUser(e)}},{key:"spawnObstacleFn",value:function(){var e=(5+~~(6*Math.random()))/10;this.gameEnemies=[].concat(pt(this.gameEnemies),[$e(this.canvasSpec.width+300,this.canvasSpec.height-100,this.gameNewCloneId,0,e)]),this.gameNewCloneId+=1}},{key:"spawnBoss",value:function(){var e=this;qe.display=!0,qe.setProp("bossHealthNow",30),this.gameProp.bossFight=!0;this.gameEnemies=[].concat(pt(this.gameEnemies),[He(700,300,this.gameNewCloneId,function(){e.bossShootBullets()})]),this.gameNewCloneId+=1}},{key:"displayWaveText",value:function(){var e=this;this.updateGameProp("level",this.gameProp.level+1),nt.setProp("display",!0),this.gameProp.isPause=!0,this.gameProp.enemyAmountInThisLevel=0,setTimeout(function(){nt.setProp("display",!1),e.gameProp.isPause=!1,e.render()},2e3)}},{key:"toNextLevel",value:function(){(this.gameProp.level+1)%3==0?this.spawnBoss():this.displayWaveText()}},{key:"spawnEnemyFn",value:function(){var e,t,n,i,o;t=(e=this).gameProp,n=t.level,i=t.bossFight,o=w[n],n<w.length-1&&e.gameProp.enemyAmountInThisLevel>=o.enemyAmount&&!i?e.toNextLevel():i||(console.log(n),rt(e))}},{key:"addPropToSync",value:function(e,t,n){var i=this.gamePropToSync[n]||[];return this.gamePropToSync=ut({},this.gamePropToSync,ht({},n,[].concat(pt(i),[{obj:e,objProp:t}]))),this}},{key:"updateGameProp",value:function(e,t){this.gameProp=ut({},this.gameProp,ht({},e,t)),this.updatePropByGameProp(e,t)}},{key:"updatePropByGameProp",value:function(e,t){this.gamePropToSync[e].forEach(function(e){e.obj.setProp(e.objProp,t)})}},{key:"eliminateEnemy",value:function(){}},{key:"render",value:function(){var e=this;this.ctx.clearRect(0,0,this.canvasSpec.width,this.canvasSpec.height),this.drawBG(),this.drawFPS();var t,n,i,o=function(t,n){e[t]=e[t].filter(function(e){return e.cloneId!==n.cloneId})},r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=e.health-t;e.setProp("health",n),"boss"===e.id&&(qe.setProp("bossHealthNow",n),qe.setProp("hurtHealth",t),console.log(n,qe.bossHealthNow)),e.checkIsAlive&&e.checkIsAlive()},a=function(t){o("gameEnemies",t),r(t,1e4),e.gameProp.enemyAmountInThisLevel+=1},s=function(t,n){return!(!h(t,n)||t.noHurt)&&(e.updateGameProp("playerLife",e.gameProp.playerLife-1),t.setProp("blinkSpec",ut({},t.blinkSpec,{useBlink:!0})),t.noHurt=!0,t.endNoHurt(),"obs"!==n.type)};this.buffItems.forEach(function(t){if(h(it,t)){switch(t.id){case"buff":it.attackType=t.type,it.statusNow=t.type,it.timeLimitBuff.buff="attack",it.timeLimitBuff.buffTime=4;break;case"heart":e.updateGameProp("playerLife",e.gameProp.playerLife+1);break;case"coin":e.updateGameProp("coin",e.gameProp.coin+10)}o("buffItems",t)}else{if("coin"===t.id){var n=v(t,it,12);t.movement.vx=n.vx,t.movement.vy=n.vy}t.render(e.ctx)}}),this.newGameObjs.forEach(function(t){t.x>=e.canvasSpec.width+100?o("newGameObjs",t):t.render(e.ctx)}),this.enemyBullets.forEach(function(t){(function(t){return t.x<=-100||t.x>=e.canvasSpec.width+100||t.y<=-100||t.y>=e.canvasSpec.height+100})(t)||s(it,t)?o("enemyBullets",t):(!function(){for(var t=e.enemyBullets.filter(function(e){return"missile"===e.id}),n=0;n<t.length;n++){var i=t[n];if(i.isMissile){var o=v(i,it,i.movement.vBasic||6);i.movement=ut({},i.movement,{vx:o.vx,vy:o.vy})}}}(),t.render(e.ctx))}),this.gameEnemies.forEach(function(t){(t.x<=-100||s(it,t))&&"boss"!==t.id?a(t):t.render(e.ctx)}),it.render(this.ctx),Xe.render(this.ctx),Ze.render(this.ctx),et.render(this.ctx),tt.render(this.ctx),nt.render(this.ctx),Me.render(this.ctx),_e.render(this.ctx),qe.render(this.ctx);for(var c=0;c<this.newGameObjs.length;c++)for(var l=this.newGameObjs[c],u=0;u<this.gameEnemies.length;u++){var f=this.gameEnemies[u];if(h(l,f)){if(f.setProp("blinkSpec",ut({},f.blinkSpec,{useBlink:!0})),r(f),f.health<=0&&"obs"!==f.type){if(o("gameEnemies",f),this.updateGameProp("score",this.gameProp.score+100),"boss"===f.id&&(qe.display=!1,this.gameProp.bossFight=!1,this.gameProp.level+=1,et.setProp("level",w[this.gameProp.level].level),this.displayWaveText(),1===this.gameProp.level&&(this.gameProp.isPause=!0,xt(this,a),this.render(),setTimeout(function(){Pt(e,a)},1e3))),"enemy03"===f.id){var d=Ke(f.x,f.y,this.gameNewCloneId);gt(this,"buffItems",d)}if(g(.1)){var m=(t=f.x,n=f.y,i=this.gameNewCloneId,new R({id:"heart",cloneId:i,x:t,y:n,width:40,height:40,imgSrc:xe.a,movement:{isMove:!0,vx:-4,vy:0}}));gt(this,"buffItems",m)}b(f,60,6).forEach(function(t){var n=Le(t.x,t.y,e.gameNewCloneId);gt(e,"buffItems",n)})}o("newGameObjs",l)}}this.gameProp.isPause||requestAnimationFrame(this.render.bind(this))}}])&&ft(n.prototype,i),o&&ft(n,o),t}(),xt=function(e,t){e.gameEnemies.forEach(function(e){t(e)}),e.enemyBullets=[],e.newGameObjs=[],e.buffItems=[],e.gameProp.isPause=!0,clearInterval(e.spawnEnemy),clearInterval(e.spawnObstacle)},Pt=function(e,t){var n=[50,30,40];!function(e,t,n,i){yt.style.display="block";var o=document.getElementsByClassName("ui-container")[0];for(bt(i);o.firstChild;)o.removeChild(o.firstChild);for(var r=0;r<x.length;r++){var a=x[r],s=document.createElement("div");s.setAttribute("class","image-container");var c=document.createElement("img");c.setAttribute("src",a);var l=document.createElement("h3");l.textContent="$ ".concat(t[r]),s.appendChild(c),s.appendChild(l),o.appendChild(s)}for(var u=document.getElementsByClassName("image-container"),h=0;h<u.length;h++)u[h].addEventListener("click",e[h]);document.getElementById("continueBTN").addEventListener("click",function(){n(),yt.style.display="none"})}([function(){e.gameProp.playerLifeLimit+=1,e.updateGameProp("playerLife",e.gameProp.playerLifeLimit),e.updateGameProp("playerLifeLimit",e.gameProp.playerLifeLimit),window.alert("Your life limit now is: "+e.gameProp.playerLifeLimit)},function(){it.attackFrequency-=100,window.alert("Your attack speed is up!")},function(){it.movement.vStandard+=1,window.alert("Your move is faster!")}].map(function(t,i){return function(t,n){return function(){e.gameProp.coin>=t?(e.updateGameProp("coin",e.gameProp.coin-t),n(),bt(e.gameProp.coin)):window.alert("your coins is not enough~")}}(n[i],t)}),n,function(){e.gameProp.isPause=!1,e.render(),e.spawnEnemy=e.spawnEnemyInterval()},e.gameProp.coin)},St={level:0,score:0,coin:0,playerLife:10,playerLifeLimit:10,enemyAmountInThisLevel:0,bossFight:!1,isPause:!1};n(27);function kt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],i=!0,o=!1,r=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){o=!0,r=e}finally{try{i||null==s.return||s.return()}finally{if(o)throw r}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}a.a.render(o.a.createElement(function(){var e=Object(i.useRef)(),t=Object(i.useRef)(),n=kt(Object(i.useState)("none"),2),r=n[0],a=n[1],s=Object(i.useCallback)(function(t){e.current=t,console.log(e.current)});return Object(i.useEffect)(function(){var n,i;t.current=(n=e.current,(i=new wt(n,S,St)).addPropToSync(Ze,"health","playerLife").addPropToSync(it,"health","playerLife").addPropToSync(_e,"playerLife","playerLife").addPropToSync(_e,"lifeLimit","playerLifeLimit").addPropToSync(Xe,"score","score").addPropToSync(et,"level","level").addPropToSync(nt,"wave","level").addPropToSync(tt,"coin","coin"),i),t.current.render(),console.log(t.current)},[]),o.a.createElement("div",{style:{width:S.width,height:S.height,position:"relative"}},o.a.createElement("div",{id:"UI",style:{display:r}},o.a.createElement("button",{onClick:function(){return a("none")}},"Close"),o.a.createElement("h3",{id:"coinNow"}),o.a.createElement("div",{className:"ui-container"}),o.a.createElement("button",{id:"continueBTN"},"CONTINUE")),o.a.createElement("canvas",{onClick:function(){st(t.current)},style:{boxShadow:"0px 0px 10px #111"},width:S.width,height:S.height,ref:s}))},null),document.getElementById("root"))}]);